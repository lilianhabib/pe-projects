<!doctype html> 
	<html>
		<head>
			<meta charset='utf-8'> 
			<title>Credit Card</title>
		</head>

		<body> 

			<form>
				<h1 class='welcome-message'>Months to Pay Off a Credit Card</h1>

				<div class='field'>
					<label for='balance'>What is your balance?: $</label>
					<input id='balance' type='number' min='1' max='1000000' value='5000'> 
				</div>

				<div class='field'>
					<label for='apr'>What is the APR on the card (as a percent)?</label>
					<input id='apr' type='number' min='0' max='100' value='12' step ='.1'> 
				</div>

				<div class='field'>
					<label for='payment'>What is the monthly payment you can make? </label>
					<input id='payment' type='number' min='1' max='1000000' value='100' step='1'> 
				</div>

				<button type='submit'>Submit</button>
				<output id='message' class='message'></output>
			</form>

			<script> 

				const $form = document.querySelector('form'); 

				const $balance = document.querySelector('#balance'); 

				const $apr = document.querySelector('#apr'); 

				const $payment = document.querySelector('#payment'); 

				const $message = document.querySelector('#message'); 



				$form.addEventListener('submit', function(event) {
					event.preventDefault();

					var $theBalance = $balance.value; 

					var $thePayments = $payment.value; 

					var $rate = $apr.value / 365 ; 

					function calculateMonthsUntilPaidOff(balance, APR, payment) {

						var $theMonth = parseFloat(-1/30) * (Math.log(1 + ($theBalance/$thePayments)) * ( 1 - (Math.pow((1 + $rate), 30))) / Math.log(1 + $rate));
;

						console.log($theMonth);

						$message.innerHTML = `<p>${$theMonth}</p>`;
 						
					}; 

					calculateMonthsUntilPaidOff($balance.value, $apr.value, $payment.value);

					
				});


			</script>
		</body>
	</html>